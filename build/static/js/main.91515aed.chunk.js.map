{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","services/persons-services.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","name","number","onClick","Persons","persons","query","filteredSearch","filter","toLowerCase","includes","map","components_Person","id","key","Filter","value","onChange","baseURL","persons_services","axios","get","then","response","console","log","data","personObject","post","concat","delete","SuccessNotification","message","className","ErrorNotification","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","searchValue","setSearchValue","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","successMessage","setSuccessMessage","useEffect","personService","catch","error","resetNotification","setTimeout","components_SuccessNotification","components_ErrorNotification","components_Filter","event","target","onSubmit","preventDefault","newPerson","p","type","components_Persons","window","confirm","find","ReactDOM","render","src_App","notes","content","date","important","document","getElementById"],"mappings":"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","file":"static/js/main.91515aed.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person,deletePerson }) => {\n    return (\n        <li>{person.name} {person.number}\n            <button onClick={deletePerson}>DELETE</button>\n        </li>\n    )\n  }\n  \nexport default Person","import React from 'react'\nimport Person from './Person'\n\n\n\nconst Persons = ({persons,query,deletePerson}) => {\n    const filteredSearch = persons.filter(person => person.name.toLowerCase().includes(query.toLowerCase()))\n    return <ul>{filteredSearch.map(person => <Person person={person} deletePerson={() => deletePerson(person.id)} key={person.name}/>)}</ul>\n}\n\nexport default Persons","import React from 'react'\n\n\nconst Filter = ({value,onChange}) => {\n    return (\n        <div>filter shown with: <input value={value} onChange={onChange}/></div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(\n        response => {\n            console.log('persons:',response.data)\n            return response.data\n        })\n}\n\nconst createPerson = personObject => {\n    const request = axios.post(`${baseURL}`,personObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updatePerson = (id,newObject) => {\n    const request = axios.put(`${baseURL}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll,createPerson,deletePerson,updatePerson}\n\n","import React from 'react'\n\nconst SuccessNotification = ({ message }) => {\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"success\">\n            {message}\n        </div>\n           \n    )\n}\n\nexport default SuccessNotification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <p className=\"error\">\n            {message}\n        </p>\n           \n    )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport personService from './services/persons-services'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]) \n\tconst [newName, setNewName ] = useState('')\n\tconst [newNumber,setNewNumber] = useState('')\n    const [searchValue, setSearchValue] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n    const [successMessage,setSuccessMessage] = useState(null)\n\n\tuseEffect (() => {\n\t\tpersonService\n\t\t.getAll()\n\t\t.then(response => {\n            setPersons(response)\n            console.log('Persons in front: ',response)\n            })\n            .catch(error => {\n                console.log('Error getting persons',error)\n            })\n\t},[])\n\n    const resetNotification = () => {\n        setTimeout(() => {\n            setSuccessMessage(null)\n            setErrorMessage(null)\n        }, 5000)\n    }\n\n\tconst handleNewName = (event) => {\n\t\tsetNewName(event.target.value)\n\t  }\n\t  \n\tconst handleNewNumber = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\tconst handleSearchValue = (event) => {\n\t\tsetSearchValue(event.target.value)\n\t}\n\n    const addNewPerson = (event) => {\n        event.preventDefault()\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        }\n        //if (persons.some(ele => ele.name === newName)) { //checks for duplicate name entry\n        //handleDuplicateEntry(newName)\n        //}\n        //else {\n        personService\n            .createPerson(newPerson)\n            .then(response => {\n                setSuccessMessage(`Successfully added ${newPerson.name} to the phonebook!`)\n                resetNotification()\n                setPersons(persons.concat(newPerson))\n                setNewName('')\n                setNewNumber('')\n            })\n            .catch(error => {\n                setErrorMessage(error.response.data.error)\n                resetNotification()\n                setPersons(persons.filter(p => p.name !== newPerson.name))\n                setNewName('')\n                setNewNumber('')\n                console.log(error.response.data.error)\n            })\n    //}\n\t\t}\t\n\t\n\t\n\tconst handleDuplicateEntry = () => {\n\t\tif (window.confirm(`${newName} is already in the phonebook. Replace the old number with a new one?`)) {\n\t\t\tconst person = persons.find(p => p.name === newName)\n\t\t\tconst updatedPersonObject = {...person,number:newNumber}\n            personService.updatePerson(person.id, updatedPersonObject)\n                .then(response => {\n                    setSuccessMessage(`Successfully updated phone number for ${person.name}!`)\n                    resetNotification()\n                    setPersons(persons.map(p => p.name === newName ? updatedPersonObject : p))\n                    setNewName('')\n                    setNewNumber('')\n                })\n                .catch(error => {\n                    setErrorMessage(`Failed to update phone number for ${person.name}!`)\n                    resetNotification()\n                    setPersons(persons.filter(p => p.id !== person.id))\n                    setNewName('')\n                    setNewNumber('')\n                })\n\t\t}\n\t}\n\n    const handleDeletePerson = id => {\n        if (window.confirm(`Delete ${persons.find(p => id === p.id).name} from the phonebook?`)) {\n            const person = persons.find(p => p.id === id)\n\t\t\tpersonService.deletePerson(id)\n    \t\t\t.then(response => {\n                    setSuccessMessage(`Successfully deleted ${person.name}`)\n                    resetNotification()\n                    setPersons(persons.filter(p => p.id !== id))\n                })\n                .catch(error => {\n                    setErrorMessage(`${person.name} is already deleted from the phonebook!`)\n                    resetNotification()\n                    setPersons(persons.filter(p => p.id !== id)) //unnecessary? \n                })\n\t\t}\n\n    }\n\n\treturn (\n        <div>\n            <h2>Phonebook</h2>\n            <SuccessNotification message={successMessage} />\n            <ErrorNotification message={errorMessage}/>\n    \t\t<Filter value={searchValue} onChange={handleSearchValue}/>\n          \t<form onSubmit={addNewPerson}>\n            \t<div>\n    \t\t\t\tname: <input value={newName} onChange={handleNewName}/>\n    \t\t\t\t<br/>\n    \t\t\t\tnumber: <input value={newNumber} onChange={handleNewNumber}/>\n            \t</div>\n            \t<div>\n              \t\t<button type=\"submit\">add</button>\n            \t</div>\n          \t</form>\n          \t<h2>Numbers</h2>\n            <Persons persons={persons} deletePerson={handleDeletePerson} query={searchValue}/>\n     </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nconst notes = [\n  {\n    id: 1,\n    content: 'HTML is easy',\n    date: '2019-05-30T17:30:31.098Z',\n    important: true\n  },\n  {\n    id: 2,\n    content: 'Browser can execute only Javascript',\n    date: '2019-05-30T18:39:34.091Z',\n    important: false\n  },\n  {\n    id: 3,\n    content: 'GET and POST are the most important methods of HTTP protocol',\n    date: '2019-05-30T19:20:14.298Z',\n    important: true\n  }\n]\n\nReactDOM.render(\n  <App notes={notes}/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}