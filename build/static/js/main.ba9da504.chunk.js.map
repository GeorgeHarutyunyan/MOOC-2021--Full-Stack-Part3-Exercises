{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","services/persons-services.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","name","number","onClick","Persons","persons","query","filteredSearch","filter","toLowerCase","includes","map","components_Person","id","key","Filter","value","onChange","baseURL","persons_services","axios","get","then","response","console","log","data","personObject","post","concat","delete","SuccessNotification","message","className","ErrorNotification","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","searchValue","setSearchValue","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","successMessage","setSuccessMessage","useEffect","personService","catch","error","resetNotification","setTimeout","components_SuccessNotification","components_ErrorNotification","components_Filter","event","target","onSubmit","preventDefault","newPerson","some","ele","p","type","components_Persons","window","confirm","find","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ba9da504.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person,deletePerson }) => {\r\n    return (\r\n        <li>{person.name} {person.number}\r\n            <button onClick={deletePerson}>DELETE</button>\r\n        </li>\r\n    )\r\n  }\r\n  \r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\n\r\nconst Persons = ({persons,query,deletePerson}) => {\r\n    const filteredSearch = persons.filter(person => person.name.toLowerCase().includes(query.toLowerCase()))\r\n    return <ul>{filteredSearch.map(person => <Person person={person} deletePerson={() => deletePerson(person.id)} key={person.name}/>)}</ul>\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\n\r\nconst Filter = ({value,onChange}) => {\r\n    return (\r\n        <div>filter shown with: <input value={value} onChange={onChange}/></div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(\r\n        response => {\r\n            console.log('persons:',response.data)\r\n            return response.data\r\n        })\r\n}\r\n\r\nconst createPerson = personObject => {\r\n    const request = axios.post(`${baseURL}`,personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n//no longer in use\r\nconst updatePerson = (id,newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`,newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll,createPerson,deletePerson,updatePerson}\r\n\r\n","import React from 'react'\r\n\r\nconst SuccessNotification = ({ message }) => {\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"success\">\r\n            {message}\r\n        </div>\r\n           \r\n    )\r\n}\r\n\r\nexport default SuccessNotification","import React from 'react'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n           \r\n    )\r\n}\r\n\r\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport personService from './services/persons-services'\r\nimport SuccessNotification from './components/SuccessNotification'\r\nimport ErrorNotification from './components/ErrorNotification'\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]) \r\n\tconst [newName, setNewName ] = useState('')\r\n\tconst [newNumber,setNewNumber] = useState('')\r\n    const [searchValue, setSearchValue] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [successMessage,setSuccessMessage] = useState(null)\r\n\r\n\tuseEffect (() => {\r\n\t\tpersonService\r\n\t\t.getAll()\r\n\t\t.then(response => {\r\n            setPersons(response)\r\n            console.log('Persons in front: ',response)\r\n            })\r\n            .catch(error => {\r\n                console.log('Error getting persons',error)\r\n            })\r\n\t},[])\r\n\r\n    const resetNotification = () => {\r\n        setTimeout(() => {\r\n            setSuccessMessage(null)\r\n            setErrorMessage(null)\r\n        }, 5000)\r\n    }\r\n\r\n\tconst handleNewName = (event) => {\r\n\t\tsetNewName(event.target.value)\r\n\t  }\r\n\t  \r\n\tconst handleNewNumber = (event) => {\r\n\t\tsetNewNumber(event.target.value)\r\n\t}\r\n\r\n\tconst handleSearchValue = (event) => {\r\n\t\tsetSearchValue(event.target.value)\r\n\t}\r\n\r\n\tconst addNewPerson = (event) => {\r\n        event.preventDefault()\r\n\t\tconst newPerson = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber\r\n        }\r\n\t\tif (persons.some(ele => ele.name === newName)) { //checks for duplicate name entry\r\n            setErrorMessage(\"Names must be unique!\")\r\n            resetNotification()\r\n\t\t}\r\n\t\telse {\r\n\t\t\tpersonService\r\n\t\t\t.createPerson(newPerson)\r\n\t\t\t.then(response => {\r\n                setSuccessMessage(`Successfully added ${newPerson.name} to the phonebook!`)\r\n                resetNotification()\r\n                setPersons(persons.concat(newPerson))\r\n                setNewName('')\r\n                setNewNumber('')\r\n                })\r\n            .catch(error => {\r\n                setErrorMessage(`Failed to add ${newPerson.name} to the phonebook!`)\r\n                resetNotification()\r\n                setPersons(persons.filter(p => p.name !== newPerson.name))\r\n                setNewName('')\r\n                setNewNumber('')\r\n                })\r\n\t\t\t}\r\n\t\t}\t\r\n\t\r\n    /*\r\n\tconst handleDuplicateEntry = () => {\r\n\r\n\t\tif (window.confirm(`${newName} is already in the phonebook. Replace the old number with a new one?`)) {\r\n\t\t\tconst person = persons.find(p => p.name === newName)\r\n            const updatedPersonObject = {...person,number:newNumber}\r\n            console.log(updatedPersonObject)\r\n            personService.updatePerson(person.id, updatedPersonObject)\r\n                .then(response => {\r\n                    setSuccessMessage(`Successfully updated phone number for ${person.name}!`)\r\n                    resetNotification()\r\n                    setPersons(persons.map(p => p.name === newName ? updatedPersonObject : p))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                })\r\n                .catch(error => {\r\n                    setErrorMessage(`Failed to update phone number for ${person.name}!`)\r\n                    resetNotification()\r\n                    setPersons(persons.filter(p => p.id !== person.id))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                })\r\n        }\r\n \r\n    }\r\n    */\r\n\r\n    const handleDeletePerson = id => {\r\n        if (window.confirm(`Delete ${persons.find(p => id === p.id).name} from the phonebook?`)) {\r\n            const person = persons.find(p => p.id === id)\r\n\t\t\tpersonService.deletePerson(id)\r\n    \t\t\t.then(response => {\r\n                    setSuccessMessage(`Successfully deleted ${person.name}`)\r\n                    resetNotification()\r\n                    setPersons(persons.filter(p => p.id !== id))\r\n                })\r\n                .catch(error => {\r\n                    setErrorMessage(`${person.name} is already deleted from the phonebook!`)\r\n                    resetNotification()\r\n                    setPersons(persons.filter(p => p.id !== id)) //unnecessary? \r\n                })\r\n\t\t}\r\n\r\n    }\r\n\r\n\treturn (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <SuccessNotification message={successMessage} />\r\n            <ErrorNotification message={errorMessage}/>\r\n    \t\t<Filter value={searchValue} onChange={handleSearchValue}/>\r\n          \t<form onSubmit={addNewPerson}>\r\n            \t<div>\r\n    \t\t\t\tname: <input value={newName} onChange={handleNewName}/>\r\n    \t\t\t\t<br/>\r\n    \t\t\t\tnumber: <input value={newNumber} onChange={handleNewNumber}/>\r\n            \t</div>\r\n            \t<div>\r\n              \t\t<button type=\"submit\">add</button>\r\n            \t</div>\r\n          \t</form>\r\n          \t<h2>Numbers</h2>\r\n            <Persons persons={persons} deletePerson={handleDeletePerson} query={searchValue}/>\r\n     </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(\r\n  <App/>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}