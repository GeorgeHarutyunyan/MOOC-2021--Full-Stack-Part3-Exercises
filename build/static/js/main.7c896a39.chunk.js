(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(40)},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),c=t.n(r),u=t(14),l=t(2),i=function(e){var n=e.person,t=e.deletePerson;return o.a.createElement("li",null,n.name," ",n.number,o.a.createElement("button",{onClick:t},"DELETE"))},m=function(e){var n=e.persons,t=e.query,a=e.deletePerson,r=n.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())});return o.a.createElement("ul",null,r.map(function(e){return o.a.createElement(i,{person:e,deletePerson:function(){return a(e.id)},key:e.name})}))},s=function(e){var n=e.value,t=e.onChange;return o.a.createElement("div",null,"filter shown with: ",o.a.createElement("input",{value:n,onChange:t}))},f=t(3),d=t.n(f),h="/api/persons",p=function(){return d.a.get(h).then(function(e){return console.log("persons:",e.data),e.data})},b=function(e){return d.a.post("".concat(h),e).then(function(e){return e.data})},E=function(e){return d.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},v=function(e,n){return d.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},g=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"success"},n)},w=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"error"},n)},O=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),f=i[0],d=i[1],h=Object(a.useState)(""),O=Object(l.a)(h,2),j=O[0],y=O[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),T=k[0],C=k[1],P=Object(a.useState)(null),L=Object(l.a)(P,2),D=L[0],J=L[1],N=Object(a.useState)(null),Z=Object(l.a)(N,2),q=Z[0],x=Z[1];Object(a.useEffect)(function(){p().then(function(e){r(e),console.log("Persons in front: ",e)}).catch(function(e){console.log("Error getting persons",e)})},[]);var B=function(){setTimeout(function(){x(null),J(null)},5e3)},F=function(){if(window.confirm("".concat(f," is already in the phonebook. Replace the old number with a new one?"))){var e=t.find(function(e){return e.name===f}),n=Object(u.a)({},e,{number:j});v(e.id,n).then(function(a){x("Successfully updated phone number for ".concat(e.name,"!")),B(),r(t.map(function(e){return e.name===f?n:e})),d(""),y("")}).catch(function(n){J("Failed to update phone number for ".concat(e.name,"!")),B(),r(t.filter(function(n){return n.id!==e.id})),d(""),y("")})}};return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(g,{message:q}),o.a.createElement(w,{message:D}),o.a.createElement(s,{value:T,onChange:function(e){C(e.target.value)}}),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:f,number:j};t.some(function(e){return e.name===f})?F(f):b(n).then(function(e){x("Successfully added ".concat(n.name," to the phonebook!")),B(),r(t.concat(n)),d(""),y("")}).catch(function(e){J("Failed to add ".concat(n.name," to the phonebook!")),B(),r(t.filter(function(e){return e.name!==n.name})),d(""),y("")})}},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:f,onChange:function(e){d(e.target.value)}}),o.a.createElement("br",null),"number: ",o.a.createElement("input",{value:j,onChange:function(e){y(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))),o.a.createElement("h2",null,"Numbers"),o.a.createElement(m,{persons:t,deletePerson:function(e){if(window.confirm("Delete ".concat(t.find(function(n){return e===n.id}).name," from the phonebook?"))){var n=t.find(function(n){return n.id===e});E(e).then(function(a){x("Successfully deleted ".concat(n.name)),B(),r(t.filter(function(n){return n.id!==e}))}).catch(function(a){J("".concat(n.name," is already deleted from the phonebook!")),B(),r(t.filter(function(n){return n.id!==e}))})}},query:T}))};t(39);c.a.render(o.a.createElement(O,{notes:[{id:1,content:"HTML is easy",date:"2019-05-30T17:30:31.098Z",important:!0},{id:2,content:"Browser can execute only Javascript",date:"2019-05-30T18:39:34.091Z",important:!1},{id:3,content:"GET and POST are the most important methods of HTTP protocol",date:"2019-05-30T19:20:14.298Z",important:!0}]}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.7c896a39.chunk.js.map