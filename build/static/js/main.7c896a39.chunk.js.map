{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","services/persons-services.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","name","number","onClick","Persons","persons","query","filteredSearch","filter","toLowerCase","includes","map","components_Person","id","key","Filter","value","onChange","baseURL","persons_services","axios","get","then","response","console","log","data","personObject","post","concat","delete","newObject","put","SuccessNotification","message","className","ErrorNotification","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","searchValue","setSearchValue","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","successMessage","setSuccessMessage","useEffect","personService","catch","error","resetNotification","setTimeout","handleDuplicateEntry","window","confirm","find","p","updatedPersonObject","objectSpread","components_SuccessNotification","components_ErrorNotification","components_Filter","event","target","onSubmit","preventDefault","newPerson","some","ele","type","components_Persons","ReactDOM","render","src_App","notes","content","date","important","document","getElementById"],"mappings":"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","file":"static/js/main.7c896a39.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person,deletePerson }) => {\n    return (\n        <li>{person.name} {person.number}\n            <button onClick={deletePerson}>DELETE</button>\n        </li>\n    )\n  }\n  \nexport default Person","import React from 'react'\nimport Person from './Person'\n\n\n\nconst Persons = ({persons,query,deletePerson}) => {\n    const filteredSearch = persons.filter(person => person.name.toLowerCase().includes(query.toLowerCase()))\n    return <ul>{filteredSearch.map(person => <Person person={person} deletePerson={() => deletePerson(person.id)} key={person.name}/>)}</ul>\n}\n\nexport default Persons","import React from 'react'\n\n\nconst Filter = ({value,onChange}) => {\n    return (\n        <div>filter shown with: <input value={value} onChange={onChange}/></div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(\n        response => {\n            console.log('persons:',response.data)\n            return response.data\n        })\n}\n\nconst createPerson = personObject => {\n    const request = axios.post(`${baseURL}`,personObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updatePerson = (id,newObject) => {\n    const request = axios.put(`${baseURL}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll,createPerson,deletePerson,updatePerson}\n\n","import React from 'react'\n\nconst SuccessNotification = ({ message }) => {\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"success\">\n            {message}\n        </div>\n           \n    )\n}\n\nexport default SuccessNotification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n           \n    )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport personService from './services/persons-services'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]) \n\tconst [newName, setNewName ] = useState('')\n\tconst [newNumber,setNewNumber] = useState('')\n    const [searchValue, setSearchValue] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n    const [successMessage,setSuccessMessage] = useState(null)\n\n\tuseEffect (() => {\n\t\tpersonService\n\t\t.getAll()\n\t\t.then(response => {\n            setPersons(response)\n            console.log('Persons in front: ',response)\n            })\n            .catch(error => {\n                console.log('Error getting persons',error)\n            })\n\t},[])\n\n    const resetNotification = () => {\n        setTimeout(() => {\n            setSuccessMessage(null)\n            setErrorMessage(null)\n        }, 5000)\n    }\n\n\tconst handleNewName = (event) => {\n\t\tsetNewName(event.target.value)\n\t  }\n\t  \n\tconst handleNewNumber = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\tconst handleSearchValue = (event) => {\n\t\tsetSearchValue(event.target.value)\n\t}\n\n\tconst addNewPerson = (event) => {\n        event.preventDefault()\n\t\tconst newPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n        }\n\t\tif (persons.some(ele => ele.name === newName)) { //checks for duplicate name entry\n\t\t\thandleDuplicateEntry(newName)\n\t\t}\n\t\telse {\n\t\t\tpersonService\n\t\t\t.createPerson(newPerson)\n\t\t\t.then(response => {\n                setSuccessMessage(`Successfully added ${newPerson.name} to the phonebook!`)\n                resetNotification()\n                setPersons(persons.concat(newPerson))\n                setNewName('')\n                setNewNumber('')\n                })\n            .catch(error => {\n                setErrorMessage(`Failed to add ${newPerson.name} to the phonebook!`)\n                resetNotification()\n                setPersons(persons.filter(p => p.name !== newPerson.name))\n                setNewName('')\n                setNewNumber('')\n                })\n\t\t\t}\n\t\t}\t\n\t\n\t\n\tconst handleDuplicateEntry = () => {\n\t\tif (window.confirm(`${newName} is already in the phonebook. Replace the old number with a new one?`)) {\n\t\t\tconst person = persons.find(p => p.name === newName)\n\t\t\tconst updatedPersonObject = {...person,number:newNumber}\n            personService.updatePerson(person.id, updatedPersonObject)\n                .then(response => {\n                    setSuccessMessage(`Successfully updated phone number for ${person.name}!`)\n                    resetNotification()\n                    setPersons(persons.map(p => p.name === newName ? updatedPersonObject : p))\n                    setNewName('')\n                    setNewNumber('')\n                })\n                .catch(error => {\n                    setErrorMessage(`Failed to update phone number for ${person.name}!`)\n                    resetNotification()\n                    setPersons(persons.filter(p => p.id !== person.id))\n                    setNewName('')\n                    setNewNumber('')\n                })\n\t\t}\n\t}\n\n    const handleDeletePerson = id => {\n        if (window.confirm(`Delete ${persons.find(p => id === p.id).name} from the phonebook?`)) {\n            const person = persons.find(p => p.id === id)\n\t\t\tpersonService.deletePerson(id)\n    \t\t\t.then(response => {\n                    setSuccessMessage(`Successfully deleted ${person.name}`)\n                    resetNotification()\n                    setPersons(persons.filter(p => p.id !== id))\n                })\n                .catch(error => {\n                    setErrorMessage(`${person.name} is already deleted from the phonebook!`)\n                    resetNotification()\n                    setPersons(persons.filter(p => p.id !== id)) //unnecessary? \n                })\n\t\t}\n\n    }\n\n\treturn (\n        <div>\n            <h2>Phonebook</h2>\n            <SuccessNotification message={successMessage} />\n            <ErrorNotification message={errorMessage}/>\n    \t\t<Filter value={searchValue} onChange={handleSearchValue}/>\n          \t<form onSubmit={addNewPerson}>\n            \t<div>\n    \t\t\t\tname: <input value={newName} onChange={handleNewName}/>\n    \t\t\t\t<br/>\n    \t\t\t\tnumber: <input value={newNumber} onChange={handleNewNumber}/>\n            \t</div>\n            \t<div>\n              \t\t<button type=\"submit\">add</button>\n            \t</div>\n          \t</form>\n          \t<h2>Numbers</h2>\n            <Persons persons={persons} deletePerson={handleDeletePerson} query={searchValue}/>\n     </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nconst notes = [\n  {\n    id: 1,\n    content: 'HTML is easy',\n    date: '2019-05-30T17:30:31.098Z',\n    important: true\n  },\n  {\n    id: 2,\n    content: 'Browser can execute only Javascript',\n    date: '2019-05-30T18:39:34.091Z',\n    important: false\n  },\n  {\n    id: 3,\n    content: 'GET and POST are the most important methods of HTTP protocol',\n    date: '2019-05-30T19:20:14.298Z',\n    important: true\n  }\n]\n\nReactDOM.render(\n  <App notes={notes}/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}